{
	menuDef
    {
        name "ui_display"
        rect 0 0 640 1 1 0
        decoration
        
        onOpen
        {
            if (dvarstring("ui_display") == "animate_money")
            {
                setLocalVarInt animate_money_start (milliseconds() );
            }
            if (dvarstring("ui_display") == "wave_summary")
            {
                setLocalVarInt wave_summary_start (milliseconds() );
            }
            if (dvarstring("ui_display") == "bind_skip_intermission")
            {
                execnow "bind F5 skip";
                execnow "bind BUTTON_START skip";
            }
            if (dvarstring("ui_display") == "armor_damage")
            {
                setLocalVarInt armor_damage_start (milliseconds() );
            }
            close self;
        }
    }
    menuDef
    {
        name "ui_shop_display"
        rect 0 0 640 480 0 0
        decoration 
        
        onOpen
        {
            if ( 1 )
            {
                setLocalVarInt ui_table_end_index 0;
                setLocalVarInt ui_table_index (int(tablelookup("mp/dynamic_shop.csv", 1, dvarstring("ui_shop_display"), 0)) + 1);
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (1 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (0 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (2 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (1 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (3 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (2 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (4 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (3 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (5 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (4 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (6 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (5 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (7 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (6 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (8 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (7 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (9 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (8 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (10 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (9 + localvarint("ui_table_index"));
            }
            if ( !localvarint("ui_table_end_index") && tablelookupbyrow("mp/dynamic_shop.csv", (11 + localvarint("ui_table_index")), 2) == "" )
            {
                setLocalVarInt ui_table_end_index (10 + localvarint("ui_table_index"));
            }
            setLocalVarString armory_option_0 dvarstring("armory_option_0")
            setLocalVarInt armory_price_0 dvarint("armory_price_0")
            setLocalVarString armory_option_1 dvarstring("armory_option_1")
            setLocalVarInt armory_price_1 dvarint("armory_price_1")
            setLocalVarString armory_option_2 dvarstring("armory_option_2")
            setLocalVarInt armory_price_2 dvarint("armory_price_2")
            setLocalVarString armory_option_3 dvarstring("armory_option_3")
            setLocalVarInt armory_price_3 dvarint("armory_price_3")
            setLocalVarString armory_option_4 dvarstring("armory_option_4")
            setLocalVarInt armory_price_4 dvarint("armory_price_4")
            setLocalVarString armory_option_5 dvarstring("armory_option_5")
            setLocalVarInt armory_price_5 dvarint("armory_price_5")
            setLocalVarString armory_option_6 dvarstring("armory_option_6")
            setLocalVarInt armory_price_6 dvarint("armory_price_6")
            setLocalVarString armory_option_7 dvarstring("armory_option_7")
            setLocalVarInt armory_price_7 dvarint("armory_price_7")
            setLocalVarString armory_option_8 dvarstring("armory_option_8")
            setLocalVarInt armory_price_8 dvarint("armory_price_8")
            setLocalVarString armory_option_9 dvarstring("armory_option_9")
            setLocalVarInt armory_price_9 dvarint("armory_price_9")
            setLocalVarString armory_option_10 dvarstring("armory_option_10")
            setLocalVarInt armory_price_10 dvarint("armory_price_10")
            close self;
        }
    }
    menuDef
    {
        name "dynamic_shop"
        rect 0 0 640 480 0 0
        popup 
        outOfBoundsClick 
        forecolor 1 1 1 1
        
        onOpen
        {
            setLocalVarInt ui_index (0 - 1);
        }
        
        onEsc
        {
            if ( tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_table_index") - 1), 6) == "close_self" )
            {
                play "mouse_click";
                close self;
            }
            if ( tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_table_index") - 1), 6) == "prev_menu" )
            {
                scriptmenuresponse prev_menu;
                play "mouse_click";
            }
        }
        
        itemDef
        {
            rect -1280 -480 2560 960 2 2
            decoration 
            visible 1
            style 3
            forecolor 0 0 0 0.8
            background "white"
        }
        
        itemDef
        {
            rect -175 -170 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 -150 350 65 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.3098 0.349 0.2745 1
            background "white"
        }
        
        itemDef
        {
            rect -175 -150 350 3 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 1
            background "black"
        }
        
        itemDef
        {
            rect -170 -170 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 9
            textalign 8
            textscale 0.4
            exp text ( "@" + tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_table_index") - 1), 2) )
        }
        
        itemDef
        {
            rect -175 -85 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 -65 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.2118 0.2314 0.22 1
            background "white"
        }
        
        itemDef
        {
            rect -175 -45 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 -25 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.2118 0.2314 0.22 1
            background "white"
        }
        
        itemDef
        {
            rect -175 -5 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 15 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.2118 0.2314 0.22 1
            background "white"
        }
        
        itemDef
        {
            rect -175 35 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 55 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.2118 0.2314 0.22 1
            background "white"
        }
        
        itemDef
        {
            rect -175 75 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 95 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.2118 0.2314 0.22 1
            background "white"
        }
        
        itemDef
        {
            rect -175 115 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect 60 -145 110 60 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 1
            background "white"
            exp material ( tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_index") + localVarInt("ui_table_index")), 4) )
            visible when ( localVarInt("ui_index") >= 0 && tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_index") + localVarInt("ui_table_index")), 4) != "" )
        }
        
        itemDef
        {
            rect 100 -145 60 60 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 1
            background "white"
            exp material ( tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_index") + localVarInt("ui_table_index")), 5) )
            visible when ( localVarInt("ui_index") >= 0 && tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_index") + localVarInt("ui_table_index")), 5) != "" )
        }
        
        itemDef
        {
            rect -170 -145 260 60 2 2
            decoration 
            autowrapped 
            visible 1
            style 1
            type 21
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + select(localVarInt("ui_index") >= 0, tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_index") + localVarInt("ui_table_index")), 3), tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_table_index") - 1), 3)) )
        }
        
        itemDef
        {
            rect -175 0 350 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.55 0.55 0.55 1
            background "gradient_fadein"
            visible when ( localVarInt("ui_index") >= 0 )
            exp rect y ( 20 * localvarint("ui_index") - 85 )
        }
        
        itemDef
        {
            rect -175 -85 350 2 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 1
            background "black"
            exp rect y ( 20 * localvarint("ui_index") - 65 )
        }
        
        itemDef
        {
            rect -165 -85 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_0") )
            visible when ( (0 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_0") != "" )
            exp forecolor r ( int((localvarint("armory_price_0") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_0") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_0") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 0 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 -85 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (0 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_0") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 0;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_0") == (0 - 4)) || (localvarint("armory_price_0") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_0")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (0 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 -85 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_0") == (0 - 4)) || (localvarint("armory_price_0") == (0 - 1)), "", select((localvarint("armory_price_0") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_0") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_0")))) )
            visible when ( (0 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_0") != "" )
            exp forecolor g ( select((localvarint("armory_price_0") == (0 - 3)) || (localvarint("armory_price_0") == (0 - 2)), 1 - (int((localvarint("armory_price_0") == (0 - 3)) || (localvarint("armory_price_0") == (0 - 2))) * 0.5), int((localvarint("armory_price_0") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_0")))) )
            exp forecolor b ( int((localvarint("armory_price_0") > (0 - 3)) && !(localvarint("armory_price_0") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_0"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 0 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 -82.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_0") == (0 - 4)) && ((0 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_0") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 0 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 -65 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_1") )
            visible when ( (1 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_1") != "" )
            exp forecolor r ( int((localvarint("armory_price_1") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_1") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_1") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 1 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 -65 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (1 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_1") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 1;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_1") == (0 - 4)) || (localvarint("armory_price_1") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_1")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (1 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 -65 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_1") == (0 - 4)) || (localvarint("armory_price_1") == (0 - 1)), "", select((localvarint("armory_price_1") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_1") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_1")))) )
            visible when ( (1 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_1") != "" )
            exp forecolor g ( select((localvarint("armory_price_1") == (0 - 3)) || (localvarint("armory_price_1") == (0 - 2)), 1 - (int((localvarint("armory_price_1") == (0 - 3)) || (localvarint("armory_price_1") == (0 - 2))) * 0.5), int((localvarint("armory_price_1") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_1")))) )
            exp forecolor b ( int((localvarint("armory_price_1") > (0 - 3)) && !(localvarint("armory_price_1") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_1"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 1 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 -62.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_1") == (0 - 4)) && ((1 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_1") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 1 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 -45 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_2") )
            visible when ( (2 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_2") != "" )
            exp forecolor r ( int((localvarint("armory_price_2") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_2") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_2") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 2 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 -45 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (2 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_2") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 2;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_2") == (0 - 4)) || (localvarint("armory_price_2") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_2")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (2 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 -45 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_2") == (0 - 4)) || (localvarint("armory_price_2") == (0 - 1)), "", select((localvarint("armory_price_2") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_2") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_2")))) )
            visible when ( (2 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_2") != "" )
            exp forecolor g ( select((localvarint("armory_price_2") == (0 - 3)) || (localvarint("armory_price_2") == (0 - 2)), 1 - (int((localvarint("armory_price_2") == (0 - 3)) || (localvarint("armory_price_2") == (0 - 2))) * 0.5), int((localvarint("armory_price_2") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_2")))) )
            exp forecolor b ( int((localvarint("armory_price_2") > (0 - 3)) && !(localvarint("armory_price_2") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_2"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 2 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 -42.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_2") == (0 - 4)) && ((2 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_2") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 2 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 -25 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_3") )
            visible when ( (3 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_3") != "" )
            exp forecolor r ( int((localvarint("armory_price_3") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_3") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_3") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 3 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 -25 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (3 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_3") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 3;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_3") == (0 - 4)) || (localvarint("armory_price_3") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_3")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (3 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 -25 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_3") == (0 - 4)) || (localvarint("armory_price_3") == (0 - 1)), "", select((localvarint("armory_price_3") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_3") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_3")))) )
            visible when ( (3 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_3") != "" )
            exp forecolor g ( select((localvarint("armory_price_3") == (0 - 3)) || (localvarint("armory_price_3") == (0 - 2)), 1 - (int((localvarint("armory_price_3") == (0 - 3)) || (localvarint("armory_price_3") == (0 - 2))) * 0.5), int((localvarint("armory_price_3") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_3")))) )
            exp forecolor b ( int((localvarint("armory_price_3") > (0 - 3)) && !(localvarint("armory_price_3") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_3"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 3 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 -22.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_3") == (0 - 4)) && ((3 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_3") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 3 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 -5 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_4") )
            visible when ( (4 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_4") != "" )
            exp forecolor r ( int((localvarint("armory_price_4") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_4") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_4") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 4 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 -5 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (4 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_4") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 4;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_4") == (0 - 4)) || (localvarint("armory_price_4") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_4")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (4 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 -5 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_4") == (0 - 4)) || (localvarint("armory_price_4") == (0 - 1)), "", select((localvarint("armory_price_4") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_4") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_4")))) )
            visible when ( (4 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_4") != "" )
            exp forecolor g ( select((localvarint("armory_price_4") == (0 - 3)) || (localvarint("armory_price_4") == (0 - 2)), 1 - (int((localvarint("armory_price_4") == (0 - 3)) || (localvarint("armory_price_4") == (0 - 2))) * 0.5), int((localvarint("armory_price_4") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_4")))) )
            exp forecolor b ( int((localvarint("armory_price_4") > (0 - 3)) && !(localvarint("armory_price_4") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_4"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 4 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 -2.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_4") == (0 - 4)) && ((4 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_4") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 4 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 15 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_5") )
            visible when ( (5 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_5") != "" )
            exp forecolor r ( int((localvarint("armory_price_5") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_5") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_5") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 5 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 15 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (5 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_5") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 5;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_5") == (0 - 4)) || (localvarint("armory_price_5") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_5")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (5 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 15 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_5") == (0 - 4)) || (localvarint("armory_price_5") == (0 - 1)), "", select((localvarint("armory_price_5") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_5") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_5")))) )
            visible when ( (5 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_5") != "" )
            exp forecolor g ( select((localvarint("armory_price_5") == (0 - 3)) || (localvarint("armory_price_5") == (0 - 2)), 1 - (int((localvarint("armory_price_5") == (0 - 3)) || (localvarint("armory_price_5") == (0 - 2))) * 0.5), int((localvarint("armory_price_5") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_5")))) )
            exp forecolor b ( int((localvarint("armory_price_5") > (0 - 3)) && !(localvarint("armory_price_5") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_5"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 5 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 17.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_5") == (0 - 4)) && ((5 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_5") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 5 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 35 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_6") )
            visible when ( (6 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_6") != "" )
            exp forecolor r ( int((localvarint("armory_price_6") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_6") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_6") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 6 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 35 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (6 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_6") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 6;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_6") == (0 - 4)) || (localvarint("armory_price_6") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_6")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (6 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 35 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_6") == (0 - 4)) || (localvarint("armory_price_6") == (0 - 1)), "", select((localvarint("armory_price_6") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_6") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_6")))) )
            visible when ( (6 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_6") != "" )
            exp forecolor g ( select((localvarint("armory_price_6") == (0 - 3)) || (localvarint("armory_price_6") == (0 - 2)), 1 - (int((localvarint("armory_price_6") == (0 - 3)) || (localvarint("armory_price_6") == (0 - 2))) * 0.5), int((localvarint("armory_price_6") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_6")))) )
            exp forecolor b ( int((localvarint("armory_price_6") > (0 - 3)) && !(localvarint("armory_price_6") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_6"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 6 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 37.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_6") == (0 - 4)) && ((6 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_6") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 6 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 55 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_7") )
            visible when ( (7 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_7") != "" )
            exp forecolor r ( int((localvarint("armory_price_7") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_7") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_7") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 7 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 55 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (7 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_7") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 7;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_7") == (0 - 4)) || (localvarint("armory_price_7") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_7")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (7 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 55 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_7") == (0 - 4)) || (localvarint("armory_price_7") == (0 - 1)), "", select((localvarint("armory_price_7") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_7") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_7")))) )
            visible when ( (7 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_7") != "" )
            exp forecolor g ( select((localvarint("armory_price_7") == (0 - 3)) || (localvarint("armory_price_7") == (0 - 2)), 1 - (int((localvarint("armory_price_7") == (0 - 3)) || (localvarint("armory_price_7") == (0 - 2))) * 0.5), int((localvarint("armory_price_7") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_7")))) )
            exp forecolor b ( int((localvarint("armory_price_7") > (0 - 3)) && !(localvarint("armory_price_7") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_7"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 7 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 57.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_7") == (0 - 4)) && ((7 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_7") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 7 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 75 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_8") )
            visible when ( (8 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_8") != "" )
            exp forecolor r ( int((localvarint("armory_price_8") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_8") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_8") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 8 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 75 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (8 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_8") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 8;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_8") == (0 - 4)) || (localvarint("armory_price_8") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_8")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (8 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 75 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_8") == (0 - 4)) || (localvarint("armory_price_8") == (0 - 1)), "", select((localvarint("armory_price_8") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_8") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_8")))) )
            visible when ( (8 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_8") != "" )
            exp forecolor g ( select((localvarint("armory_price_8") == (0 - 3)) || (localvarint("armory_price_8") == (0 - 2)), 1 - (int((localvarint("armory_price_8") == (0 - 3)) || (localvarint("armory_price_8") == (0 - 2))) * 0.5), int((localvarint("armory_price_8") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_8")))) )
            exp forecolor b ( int((localvarint("armory_price_8") > (0 - 3)) && !(localvarint("armory_price_8") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_8"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 8 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 77.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_8") == (0 - 4)) && ((8 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_8") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 8 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 95 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_9") )
            visible when ( (9 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_9") != "" )
            exp forecolor r ( int((localvarint("armory_price_9") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_9") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_9") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 9 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 95 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (9 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_9") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 9;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_9") == (0 - 4)) || (localvarint("armory_price_9") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_9")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (9 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 95 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_9") == (0 - 4)) || (localvarint("armory_price_9") == (0 - 1)), "", select((localvarint("armory_price_9") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_9") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_9")))) )
            visible when ( (9 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_9") != "" )
            exp forecolor g ( select((localvarint("armory_price_9") == (0 - 3)) || (localvarint("armory_price_9") == (0 - 2)), 1 - (int((localvarint("armory_price_9") == (0 - 3)) || (localvarint("armory_price_9") == (0 - 2))) * 0.5), int((localvarint("armory_price_9") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_9")))) )
            exp forecolor b ( int((localvarint("armory_price_9") > (0 - 3)) && !(localvarint("armory_price_9") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_9"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 9 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 97.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_9") == (0 - 4)) && ((9 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_9") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 9 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -165 115 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 4
            textscale 0.375
            exp text ( "@" + localvarstring("armory_option_10") )
            visible when ( (10 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_10") != "" )
            exp forecolor r ( int((localvarint("armory_price_10") > (0 - 3))) )
            exp forecolor g ( int((localvarint("armory_price_10") > (0 - 3))) )
            exp forecolor b ( int((localvarint("armory_price_10") > (0 - 3))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 10 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 115 350 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            visible when ( (10 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_10") != "" )
            
            onFocus
            {
                setLocalVarInt ui_index 10;
                play "ui_over_v2";
            }
            
            leaveFocus
            {
                setLocalVarInt ui_index (0 - 1);
            }
            
            action
            {
                if ( (localvarint("armory_price_10") == (0 - 4)) || (localvarint("armory_price_10") == (0 - 3)) || !(dvarint("ui_money") >= localvarint("armory_price_10")) )
                {
                    play "nav_negative";
                }
                else
                {
                    setLocalVarString selected_ref tablelookupbyrow("mp/dynamic_shop.csv", (10 + localVarInt("ui_table_index")), 6);
                    scriptmenuresponse localVarString( "selected_ref" );
                }
            }
        }
        
        itemDef
        {
            rect 0 115 160 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 6
            textscale 0.375
            exp text ( select((localvarint("armory_price_10") == (0 - 4)) || (localvarint("armory_price_10") == (0 - 1)), "", select((localvarint("armory_price_10") == (0 - 3)), "@SO_SURVIVAL_ARMORY_OWNED", select((localvarint("armory_price_10") == (0 - 2)), "@SO_SURVIVAL_ARMORY_UPGRADE", "$ " + localvarint("armory_price_10")))) )
            visible when ( (10 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_10") != "" )
            exp forecolor g ( select((localvarint("armory_price_10") == (0 - 3)) || (localvarint("armory_price_10") == (0 - 2)), 1 - (int((localvarint("armory_price_10") == (0 - 3)) || (localvarint("armory_price_10") == (0 - 2))) * 0.5), int((localvarint("armory_price_10") > (0 - 3)) && (dvarint("ui_money") >= localvarint("armory_price_10")))) )
            exp forecolor b ( int((localvarint("armory_price_10") > (0 - 3)) && !(localvarint("armory_price_10") == (0 - 2)) && (dvarint("ui_money") >= localvarint("armory_price_10"))) )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 10 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 145 117.5 15 15 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 0.8
            exp material ( icon_lock )
            visible when ( (localvarint("armory_price_10") == (0 - 4)) && ((10 + localVarInt("ui_table_index")) <= localVarInt("ui_table_end_index") && localvarstring("armory_option_10") != "") )
            exp forecolor a ( 1 - ( ( localVarInt("ui_index") == 10 ) * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect -175 135 350 2 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 1
            background "black"
        }
        
        itemDef
        {
            rect -175 137 350 22 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.1569 0.1725 0.1608 1
            background "white"
        }
        
        itemDef
        {
            rect -175 157 350 3 2 2
            decoration 
            visible 1
            style 3
            forecolor 0.3098 0.349 0.2745 1
            background "white"
        }
        
        itemDef
        {
            rect -160 137 350 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 0.55 0.71 0 1
            textfont 3
            textalign 8
            textscale 0.375
            exp text ( "$ " + dvarInt("ui_money") )
        }
        
        itemDef
        {
            rect 105 137 67 20 2 2
            decoration 
            visible 1
            style 3
            forecolor 1 1 1 1
            background "white"
            exp rect x ( 155 - getTextWidth("Back ^2" + select(keybinding( "togglemenu" ) == "Escape", "Esc", keybinding( "togglemenu" )), 3, 0.375) )
            exp rect w ( getTextWidth("Back ^2" + select(keybinding( "togglemenu" ) == "Escape", "Esc", keybinding( "togglemenu" )), 3, 0.375) + 20 )
            exp forecolor a ( localvarint("onBack") * 0.65 )
        }
        
        itemDef
        {
            rect 0 137 165 20 2 2
            decoration 
            visible 1
            style 1
            forecolor 1 1 1 1
            textfont 3
            textalign 10
            textscale 0.375
            exp text ( "Back ^2" + select(keybinding( "togglemenu" ) == "Escape", "Esc", keybinding( "togglemenu" )) )
            exp rect x ( 165 - getTextWidth("Back ^2" + select(keybinding( "togglemenu" ) == "Escape", "Esc", keybinding( "togglemenu" )), 3, 0.375) )
            exp rect w ( getTextWidth("Back ^2" + select(keybinding( "togglemenu" ) == "Escape", "Esc", keybinding( "togglemenu" )), 3, 0.375) )
            exp forecolor a ( 1 - ( localvarint("onBack") * ( ( sin( localclientuimilliseconds( ) / 90 ) ) * 0.65 ) ) )
        }
        
        itemDef
        {
            rect 105 137 67 20 2 2
            visible 1
            style 3
            type 1
            forecolor 0 0 0 0
            background "white"
            
            onFocus
            {
                if ( localvarint("ui_table_end_index") )
                {
                    setLocalVarInt onBack 1;
                    play "ui_over_v2";
                }
            }
            
            leaveFocus
            {
                setLocalVarInt onBack 0;
                play "ui_over_v2";
            }
            
            action
            {
                if ( tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_table_index") - 1), 6) == "close_self" )
                {
                    play "mouse_click";
                    close self;
                }
                if ( tablelookupbyrow("mp/dynamic_shop.csv", (localVarInt("ui_table_index") - 1), 6) == "prev_menu" )
                {
                    scriptmenuresponse prev_menu;
                    play "mouse_click";
                }
            }
        }
    }
}
